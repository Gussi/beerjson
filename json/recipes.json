{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "type": "object",
    "additionalProperties": false,
    "definitions": {
        "FermentationStageType": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "aging": {
                    "$ref": "https://raw.githubusercontent.com/beerjson/beerjson/preparing-beerjson-2.0/json/measureable_units.json#/definitions/TimeType"
                },
                "temperature": {
                    "$ref": "https://raw.githubusercontent.com/beerjson/beerjson/preparing-beerjson-2.0/json/measureable_units.json#/definitions/TemperatureType"
                }
            },
            "required": [
                "aging",
                "temperature"
            ]
        },
        "RecipeType": {
            "type": "object",
            "description": "RecipeType composes the information stored in a beer_xml recipe",
            "additionalProperties": false,
            "properties": {
                "name": {
                    "type": "string"
                },
                "type": {
                    "type": "string",
                    "enum": [
                        "extract",
                        "partial mash",
                        "all grain"
                    ]
                },
                "author": {
                    "type": "string"
                },
                "coauthor": {
                    "type": "string"
                },
                "created": {
                    "$ref": "https://raw.githubusercontent.com/beerjson/beerjson/preparing-beerjson-2.0/json/measureable_units.json#/definitions/DateType"
                },
                "batch_size": {
                    "$ref": "https://raw.githubusercontent.com/beerjson/beerjson/preparing-beerjson-2.0/json/measureable_units.json#/definitions/VolumeType"
                },
                "boil_size": {
                    "$ref": "https://raw.githubusercontent.com/beerjson/beerjson/preparing-beerjson-2.0/json/measureable_units.json#/definitions/VolumeType"
                },
                "boil_time": {
                    "$ref": "https://raw.githubusercontent.com/beerjson/beerjson/preparing-beerjson-2.0/json/measureable_units.json#/definitions/TimeType"
                },
                "efficiency": {
                    "$ref": "https://raw.githubusercontent.com/beerjson/beerjson/preparing-beerjson-2.0/json/measureable_units.json#/definitions/PercentType"
                },
                "style": {
                    "$ref": "#/definitions/RecipeStyleType"
                },
                "ingredients": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                        "grain_bill": {
                            "$ref": "https://raw.githubusercontent.com/beerjson/beerjson/preparing-beerjson-2.0/json/grain.json#/definitions/FermentableAdditionType"
                        },
                        "hop_bill": {
                            "$ref": "https://raw.githubusercontent.com/beerjson/beerjson/preparing-beerjson-2.0/json/hops.json#/definitions/HopAdditionType"
                        },
                        "adjuncts": {
                            "$ref": "https://raw.githubusercontent.com/beerjson/beerjson/preparing-beerjson-2.0/json/misc.json#/definitions/MiscellaneousAdditionType"
                        },
                        "yeast_additions": {
                            "$ref": "https://raw.githubusercontent.com/beerjson/beerjson/preparing-beerjson-2.0/json/yeast.json#/definitions/YeastAdditionType"
                        },
                        "water_profile": {
                            "$ref": "https://raw.githubusercontent.com/beerjson/beerjson/preparing-beerjson-2.0/json/water.json#/definitions/WaterAdditionType"
                        }
                    },
                    "required": [
                        "grain_bill"
                    ]
                },
                "mash": {
                    "$ref": "https://raw.githubusercontent.com/beerjson/beerjson/preparing-beerjson-2.0/json/mash.json#/definitions/MashProcedureType"
                },
                "notes": {
                    "type": "string"
                },
                "original_gravity": {
                    "$ref": "https://raw.githubusercontent.com/beerjson/beerjson/preparing-beerjson-2.0/json/measureable_units.json#/definitions/DensityType"
                },
                "final_gravity": {
                    "$ref": "https://raw.githubusercontent.com/beerjson/beerjson/preparing-beerjson-2.0/json/measureable_units.json#/definitions/DensityType"
                },
                "alcohol_by_volume": {
                    "$ref": "https://raw.githubusercontent.com/beerjson/beerjson/preparing-beerjson-2.0/json/measureable_units.json#/definitions/PercentType"
                },
                "ibu_estimate": {
                    "$ref": "https://raw.githubusercontent.com/beerjson/beerjson/preparing-beerjson-2.0/json/hops.json#/definitions/IBUEstimateType"
                },
                "color_estimate": {
                    "$ref": "https://raw.githubusercontent.com/beerjson/beerjson/preparing-beerjson-2.0/json/measureable_units.json#/definitions/ColorType"
                },
                "carbonation": {
                    "type": "number"
                },
                "fermentation_stages": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                        "primary": {
                            "$ref": "#/definitions/FermentationStageType"
                        },
                        "secondary": {
                            "$ref": "#/definitions/FermentationStageType"
                        },
                        "tertiary": {
                            "$ref": "#/definitions/FermentationStageType"
                        },
                        "conditioning": {
                            "$ref": "#/definitions/FermentationStageType"
                        }
                    }
                },
                "taste": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                        "notes": {
                            "type": "string"
                        },
                        "rating": {
                            "type": "number"
                        }
                    },
                    "required": [
                        "notes",
                        "rating"
                    ]
                },
                "calories_per_pint": {
                    "type": "number"
                }
            },
            "required": [
                "name",
                "type",
                "author",
                "batch_size",
                "boil_size",
                "boil_time",
                "ingredients"
            ]
        },
        "RecipeStyleType": {
            "description": "Recipe Style Type Description"
        }
    }
}